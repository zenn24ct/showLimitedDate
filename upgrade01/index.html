<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Year Progress - 2026</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  :root {
    --primary: #10b981;
    --primary-dark: #059669;
    --primary-glow: rgba(16, 185, 129, 0.3);
    --bg-primary: #0a0e1a;
    --bg-secondary: #131820;
    --bg-card: #1a1f2e;
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;
    --border: rgba(255, 255, 255, 0.06);
    --shadow: rgba(0, 0, 0, 0.5);
  }

  html, body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    background: linear-gradient(135deg, #0a0e1a 0%, #131820 50%, #0f1419 100%);
    color: var(--text-primary);
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.03) 0%, transparent 50%);
    animation: pulse 15s ease-in-out infinite;
    pointer-events: none;
  }

  @keyframes pulse {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.1); }
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 24px;
    position: relative;
    z-index: 1;
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 48px;
    animation: fadeInDown 0.8s ease-out;
  }

  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .year-display {
    font-size: 120px;
    font-weight: 800;
    background: linear-gradient(135deg, var(--primary) 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
    margin-bottom: 16px;
    letter-spacing: -0.02em;
  }

  .subtitle {
    font-size: 18px;
    color: var(--text-secondary);
    font-weight: 400;
    letter-spacing: 0.05em;
  }

  /* Stats Cards */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-bottom: 48px;
    animation: fadeInUp 0.8s ease-out 0.2s both;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .stat-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 32px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary) 0%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .stat-card:hover {
    transform: translateY(-4px);
    border-color: rgba(16, 185, 129, 0.3);
    box-shadow: 0 12px 40px rgba(16, 185, 129, 0.15);
  }

  .stat-card:hover::before {
    opacity: 1;
  }

  .stat-label {
    font-size: 14px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 12px;
    font-weight: 600;
  }

  .stat-value {
    font-size: 48px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
    line-height: 1;
  }

  .stat-card.primary .stat-value {
    background: linear-gradient(135deg, var(--primary) 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .stat-unit {
    font-size: 18px;
    color: var(--text-secondary);
    font-weight: 400;
  }

  /* Progress Section */
  .progress-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 40px;
    margin-bottom: 48px;
    animation: fadeInUp 0.8s ease-out 0.4s both;
  }

  .progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
  }

  .progress-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
  }

  .progress-percent {
    font-size: 36px;
    font-weight: 700;
    background: linear-gradient(135deg, var(--primary) 0%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .progress-bar-container {
    height: 16px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 999px;
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-dark) 0%, var(--primary) 100%);
    border-radius: 999px;
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    box-shadow: 0 0 20px var(--primary-glow);
  }

  .progress-bar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  /* Grid Section */
  .grid-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 40px;
    animation: fadeInUp 0.8s ease-out 0.6s both;
  }

  .grid-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
    flex-wrap: wrap;
    gap: 16px;
  }

  .grid-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
  }

  .legend {
    display: flex;
    gap: 24px;
    align-items: center;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text-secondary);
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }

  .legend-dot.past {
    background: var(--primary);
    box-shadow: 0 0 8px var(--primary-glow);
  }

  .legend-dot.today {
    background: var(--primary);
    box-shadow: 0 0 12px var(--primary-glow);
    animation: pulse-dot 2s ease-in-out infinite;
  }

  @keyframes pulse-dot {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }

  .legend-dot.future {
    background: rgba(255, 255, 255, 0.1);
  }

  /* Days Grid */
  .days-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(16px, 1fr));
    gap: 8px;
    max-width: 100%;
  }

  .day-cell {
    aspect-ratio: 1;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.06);
    transition: all 0.2s ease;
    cursor: pointer;
    position: relative;
  }

  .day-cell:hover {
    transform: scale(1.15);
    z-index: 10;
  }

  .day-cell::before {
    content: attr(data-date);
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%) scale(0);
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 11px;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: all 0.2s ease;
    z-index: 100;
  }

  .day-cell:hover::before {
    transform: translateX(-50%) scale(1);
    opacity: 1;
  }

  .day-cell.past {
    background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
    animation: fillIn 0.3s ease-out backwards;
  }

  @keyframes fillIn {
    from {
      transform: scale(0);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }

  .day-cell.today {
    background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3);
    animation: pulse-cell 2s ease-in-out infinite;
  }

  @keyframes pulse-cell {
    0%, 100% {
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.3);
    }
    50% {
      box-shadow: 0 0 0 6px rgba(16, 185, 129, 0.2);
    }
  }

  /* Year Selector */
  .year-selector {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  .year-btn {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 8px 16px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 14px;
    font-weight: 500;
  }

  .year-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--primary);
    color: var(--primary);
  }

  .year-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .container {
      padding: 24px 16px;
    }

    .year-display {
      font-size: 72px;
    }

    .stats-grid {
      grid-template-columns: 1fr;
    }

    .stat-value {
      font-size: 36px;
    }

    .progress-section,
    .grid-section {
      padding: 24px;
    }

    .days-grid {
      grid-template-columns: repeat(auto-fill, minmax(12px, 1fr));
      gap: 6px;
    }

    .legend {
      flex-wrap: wrap;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="year-display" id="yearDisplay">2026</div>
      <div class="subtitle">年間進捗トラッカー</div>
    </div>

    <div class="grid-section">
      <div class="grid-header">
        <div class="grid-title">365日カレンダー</div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-dot past"></div>
            <span>経過</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot today"></div>
            <span>今日</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot future"></div>
            <span>未来</span>
          </div>
        </div>
        <div class="year-selector">
          <button class="year-btn" onclick="changeYear(-1)">←</button>
          <button class="year-btn active" id="currentYearBtn">2026</button>
          <button class="year-btn" onclick="changeYear(1)">→</button>
        </div>
      </div>
      <div class="days-grid" id="daysGrid"></div>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">総日数</div>
        <div class="stat-value" id="totalDays">365</div>
        <div class="stat-unit">日</div>
      </div>

      <div class="stat-card primary">
        <div class="stat-label">経過日数</div>
        <div class="stat-value" id="passedDays">0</div>
        <div class="stat-unit">日</div>
      </div>

      <div class="stat-card">
        <div class="stat-label">残り日数</div>
        <div class="stat-value" id="remainingDays">0</div>
        <div class="stat-unit">日</div>
      </div>
    </div>

    <div class="progress-section">
      <div class="progress-header">
        <div class="progress-title">年間進捗</div>
        <div class="progress-percent" id="progressPercent">0%</div>
      </div>
      <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
      </div>
    </div>
  </div>

  <script>
    let currentYear = 2026;

    function isLeapYear(year) {
      return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
    }

    function getTotalDays(year) {
      return isLeapYear(year) ? 366 : 365;
    }

    function getDayOfYear(date) {
      const start = new Date(date.getFullYear(), 0, 1);
      const diff = date - start;
      const oneDay = 1000 * 60 * 60 * 24;
      return Math.floor(diff / oneDay) + 1;
    }

    function formatDate(date) {
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      return `${date.getFullYear()}-${month}-${day}`;
    }

    function renderYear(year) {
      const now = new Date();
      const isCurrentYear = year === now.getFullYear();
      const totalDays = getTotalDays(year);
      
      let passedDays = 0;
      if (isCurrentYear) {
        passedDays = getDayOfYear(now);
      } else if (year < now.getFullYear()) {
        passedDays = totalDays;
      }

      const remainingDays = totalDays - passedDays;
      const progressPercent = Math.round((passedDays / totalDays) * 100);

      // Update UI
      document.getElementById('yearDisplay').textContent = year;
      document.getElementById('currentYearBtn').textContent = year;
      document.getElementById('totalDays').textContent = totalDays;
      document.getElementById('passedDays').textContent = passedDays;
      document.getElementById('remainingDays').textContent = remainingDays;
      document.getElementById('progressPercent').textContent = progressPercent + '%';
      document.getElementById('progressBar').style.width = progressPercent + '%';

      // Render grid
      const grid = document.getElementById('daysGrid');
      grid.innerHTML = '';

      const todayDayOfYear = isCurrentYear ? getDayOfYear(now) : -1;

      for (let i = 1; i <= totalDays; i++) {
        const date = new Date(year, 0, i);
        const cell = document.createElement('div');
        cell.className = 'day-cell';
        cell.setAttribute('data-date', formatDate(date));
        cell.style.animationDelay = `${i * 2}ms`;

        if (i < passedDays) {
          cell.classList.add('past');
        }
        if (i === todayDayOfYear) {
          cell.classList.add('today');
        }

        grid.appendChild(cell);
      }
    }

    function changeYear(delta) {
      currentYear += delta;
      renderYear(currentYear);
    }

    // Initial render
    renderYear(currentYear);

    // Update every minute
    setInterval(() => {
      renderYear(currentYear);
    }, 60000);
  </script>
</body>
</html>